apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: petstore
  description: The petstore API
  tags:
    - store
    - rest
  links:
    - url: https://github.com/swagger-api/swagger-petstore
      title: GitHub Repo
      icon: github
    - url: https://github.com/swagger-api/swagger-petstore/blob/master/src/main/resources/openapi.yaml
      title: API Spec
      icon: code
spec:
  type: openapi
  definition: |
  openapi: 3.0.2
  servers:
    - url: /v3
  info:
  version: 1.0.15
  title: Swagger Petstore - OpenAPI 3.0
  termsOfService: 'http://swagger.io/terms/'
  contact:
    email: apiteam@swagger.io
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
  tags:
    - name: pet
      description: Everything about your Pets
      externalDocs:
        description: Find out more
        url: 'http://swagger.io'
    - name: store
      description: Access to Petstore orders
      externalDocs:
        description: Find out more about our store
        url: 'http://swagger.io'
    - name: user
      description: Operations about user
  paths:
    /pet/findByStatus:
      get:
        tags:
          - pet
        summary: Finds Pets by status
        description: Multiple status values can be provided with comma separated strings
        operationId: findPetsByStatus
        parameters:
          - name: status
            in: query
            description: Status values that need to be considered for filter
            required: false
            explode: true
            schema:
              type: string
              enum:
                - available
                - pending
                - sold
              default: available
        responses:
          '200':
            description: successful operation
            content:
              application/xml:
                schema:
                  type: array
                  items:
                    $ref: '#/components/schemas/Pet'
              application/json:
                schema:
                  type: array
                  items:
                    $ref: '#/components/schemas/Pet'
          '400':
            description: Invalid status value
        security:
          - petstore_auth:
              - 'write:pets'
              - 'read:pets'
    /pet/findByTags:
      get:
        tags:
          - pet
        summary: Finds Pets by tags
        description: >-
          Multiple tags can be provided with comma separated strings. Use tag1,
          tag2, tag3 for testing.
        operationId: findPetsByTags
        parameters:
          - name: tags
            in: query
            description: Tags to filter by
            required: false
            explode: true
            schema:
              type: array
              items:
                type: string
        responses:
          '200':
            description: successful operation
            content:
              application/xml:
                schema:
                  type: array
                  items:
                    $ref: '#/components/schemas/Pet'
              application/json:
                schema:
                  type: array
                  items:
                    $ref: '#/components/schemas/Pet'
          '400':
            description: Invalid tag value
        security:
          - petstore_auth:
              - 'write:pets'
              - 'read:pets'
    '/pet/{petId}':
      get:
        tags:
          - pet
        summary: Find pet by ID
        description: Returns a single pet
        operationId: getPetById
        parameters:
          - name: petId
            in: path
            description: ID of pet to return
            required: true
            schema:
              type: integer
              format: int64
        responses:
          '200':
            description: successful operation
            content:
              application/xml:
                schema:
                  $ref: '#/components/schemas/Pet'
              application/json:
                schema:
                  $ref: '#/components/schemas/Pet'
          '400':
            description: Invalid ID supplied
          '404':
            description: Pet not found
        security:
          - api_key: []
          - petstore_auth:
              - 'write:pets'
              - 'read:pets'
      post:
        tags:
          - pet
        summary: Updates a pet in the store with form data
        description: ''
        operationId: updatePetWithForm
        parameters:
          - name: petId
            in: path
            description: ID of pet that needs to be updated
            required: true
            schema:
              type: integer
              format: int64
          - name: name
            in: query
            description: Name of pet that needs to be updated
            schema:
              type: string
          - name: status
            in: query
            description: Status of pet that needs to be updated
            schema:
              type: string
        responses:
          '405':
            description: Invalid input
        security:
          - petstore_auth:
              - 'write:pets'
              - 'read:pets'
      delete:
        tags:
          - pet
        summary: Deletes a pet
        description: ''
        operationId: deletePet
        parameters:
          - name: api_key
            in: header
            description: ''
            required: false
            schema:
              type: string
          - name: petId
            in: path
            description: Pet id to delete
            required: true
            schema:
              type: integer
              format: int64
        responses:
          '400':
            description: Invalid pet value
        security:
          - petstore_auth:
              - 'write:pets'
              - 'read:pets'
   
